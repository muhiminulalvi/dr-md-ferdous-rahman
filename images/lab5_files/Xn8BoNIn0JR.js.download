;/*FB_PKG_DELIM*/

__d("CometUFICommentsAriaExpandedProvider_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"displayCommentsContextEnableComment"},{kind:"RootArgument",name:"displayCommentsContextIsAdPreview"},{kind:"RootArgument",name:"displayCommentsContextIsAggregatedShare"},{kind:"RootArgument",name:"displayCommentsContextIsStorySet"},{kind:"RootArgument",name:"displayCommentsFeedbackContext"},{kind:"RootArgument",name:"feedLocation"},{kind:"RootArgument",name:"feedbackSource"},{kind:"RootArgument",name:"focusCommentID"}],kind:"Fragment",metadata:null,name:"CometUFICommentsAriaExpandedProvider_feedback",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},action:"LOG",path:"id"},{kind:"RequiredField",field:{alias:"aria_expanded_provider_display_comments",args:[{kind:"Variable",name:"feed_context_enable_comment",variableName:"displayCommentsContextEnableComment"},{kind:"Variable",name:"feed_context_fb_feed_location",variableName:"feedLocation"},{kind:"Variable",name:"feed_context_is_ad_preview",variableName:"displayCommentsContextIsAdPreview"},{kind:"Variable",name:"feed_context_is_aggregated_share",variableName:"displayCommentsContextIsAggregatedShare"},{kind:"Variable",name:"feed_context_is_story_set",variableName:"displayCommentsContextIsStorySet"},{kind:"Variable",name:"feedback_context",variableName:"displayCommentsFeedbackContext"},{kind:"Variable",name:"feedback_source",variableName:"feedbackSource"},{kind:"Variable",name:"focus_comment_id",variableName:"focusCommentID"}],concreteType:"DisplayCommentsConnection",kind:"LinkedField",name:"display_comments",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"is_initially_expanded",storageKey:null},action:"LOG",path:"aria_expanded_provider_display_comments.is_initially_expanded"}],storageKey:null},action:"LOG",path:"aria_expanded_provider_display_comments"}],type:"Feedback",abstractKey:null};e.exports=a}),null);
__d("CometFullUFIRenderer_renderer$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b=[{kind:"Variable",name:"feedback_source_integer",variableName:"feedbackSource"}],c={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{argumentDefinitions:[{defaultValue:!0,kind:"LocalArgument",name:"CometFullUFIRenderer_renderer$canShowSeenState"},{defaultValue:!1,kind:"LocalArgument",name:"CometFullUFIRenderer_renderer$hasScenario"}],kind:"SplitOperation",metadata:{},name:"CometFullUFIRenderer_renderer$normalization",selections:[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[a,{alias:null,args:b,kind:"ScalarField",name:"is_eligible_for_real_time_updates",storageKey:null},{alias:null,args:[{kind:"Variable",name:"location",variableName:"feedLocation"},{kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"}],kind:"ScalarField",name:"can_viewer_comment",storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"associated_group",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_recruiting_group",storageKey:null},a],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"recruiting_group_unencoded_id",storageKey:null},{alias:"aria_expanded_provider_display_comments",args:[{kind:"Variable",name:"feed_context_enable_comment",variableName:"displayCommentsContextEnableComment"},{kind:"Variable",name:"feed_context_fb_feed_location",variableName:"feedLocation"},{kind:"Variable",name:"feed_context_is_ad_preview",variableName:"displayCommentsContextIsAdPreview"},{kind:"Variable",name:"feed_context_is_aggregated_share",variableName:"displayCommentsContextIsAggregatedShare"},{kind:"Variable",name:"feed_context_is_story_set",variableName:"displayCommentsContextIsStorySet"},{kind:"Variable",name:"feedback_context",variableName:"displayCommentsFeedbackContext"},{kind:"Variable",name:"feedback_source",variableName:"feedbackSource"},{kind:"Variable",name:"focus_comment_id",variableName:"focusCommentID"}],concreteType:"DisplayCommentsConnection",kind:"LinkedField",name:"display_comments",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_initially_expanded",storageKey:null}],storageKey:null},{alias:null,args:b,kind:"ScalarField",name:"is_eligible_for_enhanced_comment_updates",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_synced_qa_post",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subscription_target_id",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"associated_video",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"broadcast_is_ama_enabled",storageKey:null},a],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"comment_list_renderer",plural:!1,selections:[c,{kind:"InlineFragment",selections:[{args:[{kind:"Variable",name:"CometUFICommentListRendererForDisplayComments_renderer$hasScenario",variableName:"CometFullUFIRenderer_renderer$hasScenario"}],documentName:"CometUFICommentListRenderer_feedback",fragmentName:"CometUFICommentListRendererForDisplayComments_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"XFBCommentListRendererForDisplayComments",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentListRenderer_feedback",fragmentName:"CometUFICommentListRendererForCommentsAPI_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"XFBCommentListRendererForCommentsAPI",abstractKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"supported",value:["DefaultCometUFISummaryAndActionsRenderer","LiveVideoCometUFISummaryAndActionsRenderer","UnauthenticatedUCometUFISummaryAndActionsRenderer"]}],concreteType:null,kind:"LinkedField",name:"comet_ufi_summary_and_actions_renderer",plural:!1,selections:[c,{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFISummaryAndActions_feedback",fragmentName:"CometUFIDefaultSummaryAndActionsRenderer_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"DefaultCometUFISummaryAndActionsRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFISummaryAndActions_feedback",fragmentName:"CometUFILiveVideoSummaryAndActionsRenderer_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"LiveVideoCometUFISummaryAndActionsRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFISummaryAndActions_feedback",fragmentName:"CometUnauthenticatedUFISummaryAndActionsRenderer_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"UnauthenticatedUCometUFISummaryAndActionsRenderer",abstractKey:null}],storageKey:'comet_ufi_summary_and_actions_renderer(supported:["DefaultCometUFISummaryAndActionsRenderer","LiveVideoCometUFISummaryAndActionsRenderer","UnauthenticatedUCometUFISummaryAndActionsRenderer"])'}],storageKey:null}]}}();e.exports=a}),null);
__d("CometFullUFIRenderer_renderer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:!0,kind:"LocalArgument",name:"canShowSeenState"},{kind:"RootArgument",name:"feedLocation"},{kind:"RootArgument",name:"feedbackSource"},{defaultValue:!1,kind:"LocalArgument",name:"hasScenario"},{kind:"RootArgument",name:"useDefaultActor"}],kind:"Fragment",metadata:null,name:"CometFullUFIRenderer_renderer",selections:[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:[{kind:"Variable",name:"feedback_source_integer",variableName:"feedbackSource"}],kind:"ScalarField",name:"is_eligible_for_real_time_updates",storageKey:null},{alias:null,args:[{kind:"Variable",name:"location",variableName:"feedLocation"},{kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"}],kind:"ScalarField",name:"can_viewer_comment",storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"associated_group",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_recruiting_group",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"recruiting_group_unencoded_id",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometUFICommentsAriaExpandedProvider_feedback"},{args:[{kind:"Variable",name:"hasScenario",variableName:"hasScenario"}],kind:"FragmentSpread",name:"CometUFICommentListRenderer_feedback"},{args:null,kind:"FragmentSpread",name:"CometUFISummaryAndActions_feedback"}],storageKey:null}],type:"FullUFIRenderer",abstractKey:null};e.exports=a}),null);
__d("CometFullUFIRenderer_shareable.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFullUFIRenderer_shareable",selections:[{args:null,kind:"FragmentSpread",name:"CometUFISummaryAndActions_shareable"}],type:"Entity",abstractKey:"__isEntity"};e.exports=a}),null);
__d("CometFullUFIRenderer_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFullUFIRenderer_story",selections:[{args:null,kind:"FragmentSpread",name:"CometUFISummaryAndActions_story"}],type:"Story",abstractKey:null};e.exports=a}),null);
__d("CometUFICommentsAriaExpandedProvider.react",["CometFeedARIAProperties.react","CometRelay","CometUFICommentListenersContext","CometUFICommentsAriaExpandedProvider_feedback.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");e=d("react");var j=e.useContext,k=e.useMemo,l=e.useState;function m(a){var e,f=a.children,g=a.feedback;a=a.feedLocation;g=d("CometRelay").useFragment(h!==void 0?h:h=b("CometUFICommentsAriaExpandedProvider_feedback.graphql"),g);e=l(g==null?void 0:(e=g.aria_expanded_provider_display_comments)==null?void 0:e.is_initially_expanded);var m=e[0],n=e[1];e=k(function(){return{onCollapsed:function(){n(!1)},onExpanded:function(){n(!0)}}},[]);var o=e.onCollapsed;e=e.onExpanded;d("CometUFICommentListenersContext").useCometUFIOnCommentsExpanded(g==null?void 0:g.id,e,a);d("CometUFICommentListenersContext").useCometUFIOnCommentsCollapsed(g==null?void 0:g.id,o,a);var p=j(c("CometFeedARIAProperties.react"));e=k(function(){return p.commentCountTargetProps==null||m==null?p:babelHelpers["extends"]({},p,{commentCountTargetProps:babelHelpers["extends"]({},p.commentCountTargetProps,{"aria-expanded":m})})},[m,p]);return i.jsx(c("CometFeedARIAProperties.react").Provider,{value:e,children:f})}m.displayName=m.name+" [from "+f.id+"]";function a(a){a=babelHelpers["extends"]({},a);return i.jsx(d("CometUFICommentListenersContext").CometUFICommentListenersContextProvider,{children:i.jsx(m,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometFullUFIRenderer.react",["CometFullUFIRenderer_renderer.graphql","CometFullUFIRenderer_shareable.graphql","CometFullUFIRenderer_story.graphql","CometListCellGlimmer.react","CometRefineRef","CometRelay","CometRouteParams","CometUFICommentListRenderer.react","CometUFICommentsAriaExpandedProvider.react","CometUFIConversationGuideLoggingProvider.react","CometUFIConversationGuideUtils","CometUFIQPLInstanceKeyContext","CometUFIRealtimeRoot.react","CometUFISummaryAndActions.react","CometUFIVisibilityContext","FBLogger","clearTimeout","cometGetKeyCommandConfig","react","requireDeferred","setTimeout","unrecoverableViolation","useKeyCommands","useQPLInstanceKey","useTriggeredStoryCTAHandler","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=d("react");e=d("react");var l=e.useCallback,m=e.useContext,n=e.useEffect,o=e.useMemo,p=e.useRef,q=c("requireDeferred")("CometUFIFunnelLogger").__setRef("CometFullUFIRenderer.react");function a(a,e){var f=a.displayCommentsContext,g=a.feedLocation,m=a.feedbackSource,s=a.focusCommentID,t=a.isTextOnlyStory,u=a.onActorSelected,v=a.renderer,w=a.shareable,x=a.story;a=a.storyRenderLocation;v=d("CometRelay").useFragment(h!==void 0?h:h=b("CometFullUFIRenderer_renderer.graphql"),v);var y=v==null?void 0:v.feedback;if(y==null)throw c("unrecoverableViolation")("CometFullUFIRenderer: expected a valid feedback object, got null","ufi2");v=d("CometRelay").useFragment(i!==void 0?i:i=b("CometFullUFIRenderer_shareable.graphql"),w);w=d("CometRelay").useFragment(j!==void 0?j:j=b("CometFullUFIRenderer_story.graphql"),x);var z=p();x=c("useTriggeredStoryCTAHandler")();var A=x[0],B=(x=(x=y.associated_group)==null?void 0:x.is_recruiting_group)!=null?x:!1;x=d("CometRouteParams").useRouteParams();var C=x.multi_permalinks;x=x.story_id;var D=(C=C)!=null?C:x,E=l(function(){var a=z.current;a!=null&&(g==="DEDICATED_COMMENTING_SURFACE"?a.Actions.expandList({focusComposer:!0}):a.Actions.toggleList({focusComposer:!1}))},[g]),F=l(function(){var a=z.current;a!=null?(a.Actions.expandList({focusComposer:!0,scrollToComposer:!0}),A("COMMENT_BUTTON_TAP")):c("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",(y==null?void 0:y.id)||"UNKNOWN").mustfix("The 'comment' button was clicked but no comments list ref could be found. That ref is needed to make sure the comments list is open.")},[y,A]);C=o(function(){return y.can_viewer_comment===!0?[d("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("newsfeed","commentStory",F)]:[]},[y.can_viewer_comment,F]);c("useKeyCommands")(C,!0);var G=c("useQPLInstanceKey")();n(function(){B&&D!==y.recruiting_group_unencoded_id&&E();return function(){q.onReady(function(a){return a.endSuccess(G)})}},[G,B,E,D,y]);return k.jsx(c("CometUFIRealtimeRoot.react"),{enabled:y.is_eligible_for_real_time_updates===!0,children:k.jsx(c("CometUFIQPLInstanceKeyContext").Provider,{value:G,children:k.jsx(r,{children:k.jsx(c("CometUFIConversationGuideLoggingProvider.react"),{callerID:d("CometUFIConversationGuideUtils").CALLER_ID,children:k.jsxs(c("CometUFICommentsAriaExpandedProvider.react"),{feedLocation:g,feedback:y,children:[k.jsx(c("CometUFISummaryAndActions.react"),{feedLocation:g,feedback:y,feedbackSource:m,isTextOnlyStory:t,onActorSelected:u,onClickCommentsCount:E,onCommentClick:F,ref:e,renderLocation:a,shareable:(x=v)!=null?x:null,story:(C=w)!=null?C:null}),k.jsx(c("CometUFICommentListRenderer.react"),{displayCommentsContext:f,fallback:k.jsx("div",{className:"x1n2xptk","data-testid":void 0,children:k.jsx(c("CometListCellGlimmer.react"),{imageSize:36,imageStyle:"circle",numberOfItems:4})}),feedLocation:g,feedback:y,feedbackSource:m,focusCommentID:s,listRef:c("CometRefineRef")(z),storyRenderLocation:a})]})})})})})}a.displayName=a.name+" [from "+f.id+"]";function r(a){a=a.children;var b=p(!0),d=p(null),e=m(c("CometUFIQPLInstanceKeyContext")),f=c("useVisibilityObserver")({onHidden:l(function(){c("clearTimeout")(d.current),b.current=!1},[]),onVisible:l(function(){b.current=!0,q.onReady(function(a){d.current=c("setTimeout")(function(){a.start(e)},a.COMET_UFI_FUNNEL_LOGGER_START_DELAY)})},[e])});return k.jsx(c("CometUFIVisibilityContext").Provider,{value:b,children:k.jsx("div",{ref:f,children:a})})}r.displayName=r.name+" [from "+f.id+"]";e=k.forwardRef(a);g["default"]=e}),98);